This file is part of MXE.
See index.html for further information.

From 206cc1576fa440808acf3d49e445e6580984da26 Mon Sep 17 00:00:00 2001
From: Mark Brand <mabrand@mabrand.nl>
Date: Tue, 14 May 2013 09:21:46 +0200
Subject: [PATCH 1/2] predefine VMIME_STATIC for convenience


diff --git a/vmime.pc.in b/vmime.pc.in
index fc1103e..11dd0ea 100644
--- a/vmime.pc.in
+++ b/vmime.pc.in
@@ -9,5 +9,5 @@ Version: @VMIME_PACKAGE_VERSION@
 Requires.private: @VMIME_PKGCONFIG_REQUIRES@
 Libs: -L${libdir} -l@VMIME_LIBRARY_NAME@
 Libs.private: @VMIME_PKGCONFIG_LIBS@
-Cflags: -I${includedir}/ @VMIME_PKGCONFIG_CFLAGS@
+Cflags: -I${includedir}/ @VMIME_PKGCONFIG_CFLAGS@ -DVMIME_STATIC
 
-- 
1.8.4


From 0ded9a088ad0ddba3244a3c3f20b2e7cf665a1f8 Mon Sep 17 00:00:00 2001
From: Mark Brand <mabrand@mabrand.nl>
Date: Sat, 16 Nov 2013 12:00:16 +0100
Subject: [PATCH 2/2] add BUILD_DOCUMENTATION option


diff --git a/CMakeLists.txt b/CMakeLists.txt
index 0e92513..9b4693b 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -941,20 +941,27 @@ ENDIF()
 ##############################################################################
 # Documentation
 
-FIND_PACKAGE(Doxygen)
+OPTION(
+	VMIME_BUILD_DOCUMENTATION
+	"Build documentation"
+	ON
+)
 
-IF(DOXYGEN_FOUND)
-	CONFIGURE_FILE(${CMAKE_SOURCE_DIR}/Doxyfile.in ${CMAKE_BINARY_DIR}/Doxyfile @ONLY)
+IF(VMIME_BUILD_DOCUMENTATION)
+	FIND_PACKAGE(Doxygen)
 
-	# Make a target so that documentation can be generated by running "make doc"
-	ADD_CUSTOM_TARGET(
-		doc
-		${DOXYGEN_EXECUTABLE} ${CMAKE_BINARY_DIR}/Doxyfile
-		WORKING_DIRECTORY ${CMAKE_BINARY_DIR}
-		COMMENT "Generating API documentation with Doxygen" VERBATIM
-	)
-ENDIF(DOXYGEN_FOUND)
+	IF(DOXYGEN_FOUND)
+		CONFIGURE_FILE(${CMAKE_SOURCE_DIR}/Doxyfile.in ${CMAKE_BINARY_DIR}/Doxyfile @ONLY)
 
+		# Make a target so that documentation can be generated by running "make doc"
+		ADD_CUSTOM_TARGET(
+			doc
+			${DOXYGEN_EXECUTABLE} ${CMAKE_BINARY_DIR}/Doxyfile
+			WORKING_DIRECTORY ${CMAKE_BINARY_DIR}
+			COMMENT "Generating API documentation with Doxygen" VERBATIM
+		)
+	ENDIF(DOXYGEN_FOUND)
+ENDIF(VMIME_BUILD_DOCUMENTATION)
 
 ##############################################################################
 # Sanity checks
-- 
1.8.4

