This file is part of MXE. See LICENSE.md for licensing information.

Contains ad hoc patches for cross building.

From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Rashad Kanavath <rashad.kanavath@c-s.fr>
Date: Wed, 2 Dec 2015 15:00:54 +0100
Subject: [PATCH] fix shared build


diff --git a/Modules/ThirdParty/GDCM/src/gdcm/Utilities/socketxx/socket++/CMakeLists.txt b/Modules/ThirdParty/GDCM/src/gdcm/Utilities/socketxx/socket++/CMakeLists.txt
index 1111111..2222222 100644
--- a/Modules/ThirdParty/GDCM/src/gdcm/Utilities/socketxx/socket++/CMakeLists.txt
+++ b/Modules/ThirdParty/GDCM/src/gdcm/Utilities/socketxx/socket++/CMakeLists.txt
@@ -6,6 +6,8 @@ set(PACKAGE "socket++")
 include(CheckFunctionExists)
 CHECK_FUNCTION_EXISTS(strsignal SOCKETXX_HAVE_STRSIGNAL)
 
+add_definitions(-Dsocketxx_EXPORTS)
+
 # specific
 if(WIN32)
 else()
@@ -67,6 +69,8 @@ if(UNIX)
     )
 endif()
 
+set(GDCM_BUILD_SHARED_LIBS ${BUILD_SHARED_LIBS})
+
 add_library(${SOCKETXX_LIBRARY_NAME} ${libsocket___la_SOURCES})
 set_target_properties (${SOCKETXX_LIBRARY_NAME}
   PROPERTIES DEFINE_SYMBOL  "socketxx_EXPORTS" )
@@ -105,4 +109,3 @@ if(NOT SOCKETXX_INSTALL_NO_DEVELOPMENT)
     DESTINATION ${SOCKETXX_INSTALL_INCLUDE_DIR} COMPONENT Headers
   )
 endif()
-
