From fd5d073ac9bb14d5c4e1c81d7943893f93b6ed14 Mon Sep 17 00:00:00 2001
From: Mark Brand <mabrand@mabrand.nl>
Date: Fri, 23 May 2014 11:56:29 +0200
Subject: [PATCH 1/4] fix private include

Change-Id: I99639f5941e8695718e67e7b6871dd796585868f

diff --git a/src/serviceframework/ipc/instancemanager_p.h b/src/serviceframework/ipc/instancemanager_p.h
index 50f6858..49b55ab 100644
--- a/src/serviceframework/ipc/instancemanager_p.h
+++ b/src/serviceframework/ipc/instancemanager_p.h
@@ -45,7 +45,7 @@
 #include <qserviceframeworkglobal.h>
 #include "qremoteserviceregister.h"
 #include "qremoteserviceregisterentry_p.h"
-#include <private/qserviceclientcredentials_p.h>
+#include "qserviceclientcredentials_p.h"
 #include <QHash>
 #include <QMutexLocker>
 #include <QMetaObject>
-- 
1.8.5.2 (Apple Git-48)


From 94f1c7d40d0b16697ee5d14725c387187c970d55 Mon Sep 17 00:00:00 2001
From: Mark Brand <mabrand@mabrand.nl>
Date: Fri, 23 May 2014 12:04:12 +0200
Subject: [PATCH 2/4] fix filename case

Make it possible to cross compile on case sensitive system.

Change-Id: Ie6f255eeb4d71b40926d1d27aad52af4246f5602

diff --git a/src/systeminfo/windows/qbatteryinfo_win.cpp b/src/systeminfo/windows/qbatteryinfo_win.cpp
index 19ddfc3..8e41ac6 100644
--- a/src/systeminfo/windows/qbatteryinfo_win.cpp
+++ b/src/systeminfo/windows/qbatteryinfo_win.cpp
@@ -48,7 +48,7 @@
 #include <setupapi.h>
 
 #if !defined (Q_CC_MINGW) || defined(__MINGW64_VERSION_MAJOR)
-#  include <BatClass.h>
+#  include <batclass.h>
 #endif
 
 #include <QtCore/qmetaobject.h>
diff --git a/src/systeminfo/windows/qdeviceinfo_win.cpp b/src/systeminfo/windows/qdeviceinfo_win.cpp
index 257a4f4..408881c 100644
--- a/src/systeminfo/windows/qdeviceinfo_win.cpp
+++ b/src/systeminfo/windows/qdeviceinfo_win.cpp
@@ -50,8 +50,8 @@
 #include <vfw.h>
 #if !defined(Q_CC_MINGW) || defined(__MINGW64_VERSION_MAJOR)
 #  include <ws2bth.h>
-#  include <Bthsdpdef.h>
-#  include <BluetoothAPIs.h>
+#  include <bthsdpdef.h>
+#  include <bluetoothapis.h>
 #endif
 
 QT_BEGIN_NAMESPACE
diff --git a/src/systeminfo/windows/qwmihelper_win.cpp b/src/systeminfo/windows/qwmihelper_win.cpp
index ce1e83a..4b0f9bd 100644
--- a/src/systeminfo/windows/qwmihelper_win.cpp
+++ b/src/systeminfo/windows/qwmihelper_win.cpp
@@ -46,9 +46,9 @@
 #include "qwmihelper_win_p.h"
 
 #include <QDebug>
-#include <ObjBase.h>
-#include <Wbemidl.h>
-#include <Oleauto.h>
+#include <objbase.h>
+#include <wbemidl.h>
+#include <oleauto.h>
 #include <QStringList>
 #include <QUuid>
 #include <comutil.h>
-- 
1.8.5.2 (Apple Git-48)


From 13ea9cd4743555d8d05e8dae2448ea3499bd418f Mon Sep 17 00:00:00 2001
From: Tony Theodore <tonyt@logyst.com>
Date: Tue, 10 Jun 2014 19:49:08 +1000
Subject: [PATCH 3/4] fix lib casing


diff --git a/src/systeminfo/systeminfo.pro b/src/systeminfo/systeminfo.pro
index eaf46e8..1165c3d 100644
--- a/src/systeminfo/systeminfo.pro
+++ b/src/systeminfo/systeminfo.pro
@@ -44,13 +44,10 @@ win32: !simulator: {
                windows/qwmihelper_win.cpp
 
        LIBS += \
-            -lOle32 \
-            -lUser32 \
-            -lGdi32 \
-            -lIphlpapi \
-            -lOleaut32 \
-            -lPowrProf \
-            -lSetupapi
+            -lole32 \
+            -liphlpapi \
+            -loleaut32 \
+            -lsetupapi
 
   win32-g++: {
         LIBS += -luser32 -lgdi32
-- 
1.8.5.2 (Apple Git-48)


From 0ba7b6b5c7a0e1afae1b3dbbebbb16048b310fe5 Mon Sep 17 00:00:00 2001
From: Tony Theodore <tonyt@logyst.com>
Date: Tue, 10 Jun 2014 20:11:42 +1000
Subject: [PATCH 4/4] fix gcc 4.9 compatibility

taken from:
http://pkgs.fedoraproject.org/cgit/mingw-qt5-qtsystems.git/tree/qt5-qtsystems-fix-gcc49-compatibility.patch

diff --git a/src/serviceframework/qservicereply.cpp b/src/serviceframework/qservicereply.cpp
index 44caef0..b3bd38c 100644
--- a/src/serviceframework/qservicereply.cpp
+++ b/src/serviceframework/qservicereply.cpp
@@ -259,3 +259,16 @@ void QServiceReplyBase::finish()
     Q_ASSERT(!d->running);
 #endif
 }
+
+QServiceReply::QServiceReply(QObject *p)
+        : QServiceReplyBase(p),
+          m_proxyObject(0)
+{
+    // nothing to do
+}
+
+QServiceReply::~QServiceReply()
+{
+    // nothing to do
+}
+
diff --git a/src/serviceframework/qservicereply.h b/src/serviceframework/qservicereply.h
index 15371a3..474f29a 100644
--- a/src/serviceframework/qservicereply.h
+++ b/src/serviceframework/qservicereply.h
@@ -91,17 +91,8 @@ class QServiceReply : public QServiceReplyBase
 {
     Q_OBJECT
     public:
-    QServiceReply(QObject *p = 0)
-        : QServiceReplyBase(p),
-          m_proxyObject(0)
-    {
-        // nothing to do
-    }
-
-    ~QServiceReply()
-    {
-        // nothing to do
-    }
+    QServiceReply(QObject *p = 0);
+    ~QServiceReply();
 
     QObject *proxyObject() const
     {
-- 
1.8.5.2 (Apple Git-48)

